# ログイン情報

## アプリケーションURL

https://8000-ic5l39064a591vcro9kzz-df9d814d.sg1.manus.computer/

## ログイン選択画面

https://8000-ic5l39064a591vcro9kzz-df9d814d.sg1.manus.computer/select_login

## ユーザーアカウント

### 1. システム管理者

**ログインページ:** `/system_admin_login`

**認証情報:**
- ログインID: `admin`
- パスワード: `admin12345`

**権限:**
- 全テナント横断の最高権限
- 全ロールのダッシュボードにアクセス可能
- テナント管理、システム管理者管理

**アクセス可能なダッシュボード:**
- システム管理者ダッシュボード（`/system_admin/`）
- テナント管理者ダッシュボード（`/tenant_admin/`）※テナント選択後
- 店舗管理者ダッシュボード（`/admin/`）
- 従業員ダッシュボード（`/employee/dashboard`）

---

### 2. テナント管理者

**ログインページ:** `/tenant_admin_login`

**認証情報:**
- ログインID: `tenant_admin`
- パスワード: `tenant12345`

**権限:**
- テナント固有の管理権限
- テナント情報の管理
- テナント管理者の作成・編集・削除
- 店舗の作成・編集・削除

**所属テナント:**
- サンプル株式会社（ID: 1）

**アクセス可能なダッシュボード:**
- テナント管理者ダッシュボード（`/tenant_admin/`）

---

### 3. 店舗管理者

**ログインページ:** `/admin_login`

**認証情報:**
- ログインID: `store_admin`
- パスワード: `admin12345`

**権限:**
- 店舗固有の管理権限
- 店舗情報の管理
- 管理者の作成・編集・削除
- 従業員の作成・編集・削除

**所属情報:**
- テナント: サンプル株式会社（ID: 1）
- 担当店舗: 本店（ID: 1）

**アクセス可能なダッシュボード:**
- 店舗管理者ダッシュボード（`/admin/`）

---

### 4. 従業員

**ログインページ:** `/employee_login`

**認証情報:**
- ログインID: `employee`
- パスワード: `employee12345`

**権限:**
- 基本的な従業員機能
- 勤怠管理
- シフト確認
- 個人情報の変更

**所属情報:**
- テナント: サンプル株式会社（ID: 1）
- 担当店舗: 本店（ID: 1）

**アクセス可能なダッシュボード:**
- 従業員ダッシュボード（`/employee/dashboard`）

---

## データベース情報

**データベースファイル:** `database/teikan_sakusei.db`

**テナント情報:**
- ID: 1
- 名称: サンプル株式会社
- Slug: sample-corp

**店舗情報:**
1. 本店（honten）
2. 支店A（shiten-a）
3. 支店B（shiten-b）

---

## ロール階層

```
system_admin（システム管理者）
    ↓
tenant_admin（テナント管理者）
    ↓
admin（店舗管理者）
    ↓
employee（従業員）
```

**権限の継承:**
- システム管理者は全てのロールのダッシュボードにアクセス可能
- テナント管理者はテナント内の全機能にアクセス可能
- 店舗管理者は担当店舗の管理機能にアクセス可能
- 従業員は基本的な機能のみアクセス可能

---

## 主要機能

### システム管理者
- システム管理者管理（作成・編集・削除）
- テナント管理（作成・編集・削除）
- テナント選択によるテナント管理者機能へのアクセス

### テナント管理者
- テナント情報の表示・編集
- テナント管理者管理（作成・編集・削除）
- 店舗管理（作成・編集・削除）

### 店舗管理者
- 店舗情報の表示・編集
- 管理者管理（作成・編集・削除）
- 従業員管理（作成・編集・削除）

### 従業員
- 勤怠管理
- シフト確認
- 個人情報の変更

---

## セキュリティ

**パスワードハッシュ化:**
- Werkzeugのgenerate_password_hash/check_password_hashを使用
- bcryptアルゴリズムによる安全なハッシュ化

**セッション管理:**
- Flaskのセッション機能を使用
- セッションに保存される情報: user_id, role, tenant_id, store_id

**アクセス制御:**
- デコレーター（@require_roles）によるロールベースアクセス制御
- 各エンドポイントで適切なロールチェックを実施

---

## 注意事項

1. **本番環境での使用前に:**
   - 全てのデフォルトパスワードを変更してください
   - SECRET_KEYを安全な値に変更してください
   - データベースのバックアップを定期的に取得してください

2. **開発環境:**
   - 現在のデータベースは開発用のサンプルデータです
   - 本番環境では適切なデータベース（PostgreSQLなど）を使用してください

3. **セキュリティ:**
   - HTTPSを使用してください
   - セッションタイムアウトを適切に設定してください
   - ログイン試行回数の制限を実装してください

---

**作成日:** 2025年12月24日  
**バージョン:** 1.0

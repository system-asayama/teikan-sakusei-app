<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ survey_config.title or 'ãŠåº—ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ' }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='slot.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='survey.css') }}">
</head>
<body>
  <header class="bar">
    <h1>ğŸ“ {{ survey_config.title or 'ãŠåº—ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ' }}</h1>
  </header>

  <main class="wrap survey-container">
    <section class="survey-card">
      <div class="survey-intro">
        <h2>ã”æ¥åº—ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼</h2>
        <p>{{ survey_config.description or 'ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã«ã”å”åŠ›ã„ãŸã ãã¨ã€ã‚¹ãƒ­ãƒƒãƒˆãƒã‚·ãƒ³ã‚’1å›ãƒ—ãƒ¬ã‚¤ã§ãã¾ã™ã€‚' }}</p>
      </div>

      <form id="survey-form">
        {% for question in survey_config.questions %}
        <div class="form-group">
          <label class="form-label {% if question.required %}required{% endif %}">
            {{ question.text }}
          </label>
          
          {% if question.type == 'radio' %}
          <div class="radio-group">
            {% for option in question.options %}
            <label class="radio-label">
              <input type="radio" name="q{{ question.id }}" value="{{ option }}" {% if question.required %}required{% endif %}>
              <span>{{ option }}</span>
            </label>
            {% endfor %}
          </div>
          <span class="error-message" id="q{{ question.id }}-error"></span>
          
          {% elif question.type == 'checkbox' %}
          <div class="checkbox-group">
            {% for option in question.options %}
            <label class="checkbox-label">
              <input type="checkbox" name="q{{ question.id }}" value="{{ option }}">
              <span>{{ option }}</span>
            </label>
            {% endfor %}
          </div>
          <span class="error-message" id="q{{ question.id }}-error"></span>
          
          {% elif question.type == 'text' %}
          <textarea name="q{{ question.id }}" rows="4" placeholder="{{ question.placeholder or '' }}" {% if question.required %}required{% endif %}></textarea>
          <span class="error-message" id="q{{ question.id }}-error"></span>
          
          {% elif question.type == 'rating' %}
          <div class="star-rating" data-question-id="{{ question.id }}">
            <span class="star" data-value="1">â˜…</span>
            <span class="star" data-value="2">â˜…</span>
            <span class="star" data-value="3">â˜…</span>
            <span class="star" data-value="4">â˜…</span>
            <span class="star" data-value="5">â˜…</span>
          </div>
          <input type="hidden" name="q{{ question.id }}" {% if question.required %}required{% endif %}>
          <span class="error-message" id="q{{ question.id }}-error"></span>
          {% endif %}
        </div>
        {% endfor %}

        <!-- é€ä¿¡ãƒœã‚¿ãƒ³ -->
        <div class="form-actions">
          <button type="submit" class="primary big" id="submit-btn">ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’é€ä¿¡ã—ã¦ã‚¹ãƒ­ãƒƒãƒˆã¸</button>
        </div>
      </form>
    </section>
  </main>

  <script src="{{ url_for('static', filename='survey.js') }}"></script>
</body>
</html>
